from aiogram import Router
from aiogram.types import Message

from database import get_cg_key
from keyboards import main_kb

router = Router()

@router.message()
async def unknown_message(message: Message):
    api_key = get_cg_key(message.from_user.id)
    
    if not api_key:
        return await message.answer(
            "üîê –°–Ω–∞—á–∞–ª–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å!\n\n"
            "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –í—Ö–æ–¥/–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /start"
        )
    
    text = (
        "‚ùì –Ø –Ω–µ –ø–æ–Ω–∏–º–∞—é —ç—Ç—É –∫–æ–º–∞–Ω–¥—É.\n\n"
        "üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n\n"
        "üí∞ –¶–µ–Ω—ã –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è\n"
        "/price –º–æ–Ω–µ—Ç–∞ –≤–∞–ª—é—Ç–∞ ‚Äî —Ü–µ–Ω–∞ –º–æ–Ω–µ—Ç—ã\n"
        "/convert –∏–∑ –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è\n\n"
        "üèÜ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä—ã–Ω–∫–µ\n"
        "/coin id ‚Äî –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–Ω–µ—Ç–µ\n"
        "/coins ‚Äî —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–Ω–µ—Ç\n"
        "/search –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Äî –ø–æ–∏—Å–∫ –º–æ–Ω–µ—Ç—ã\n"
        "‚≠ê –¢–æ–ø 10 ‚Äî —Ç–æ–ø –º–æ–Ω–µ—Ç\n"
        "üî• –¢—Ä–µ–Ω–¥—ã ‚Äî —Ç—Ä–µ–Ω–¥–æ–≤—ã–µ –º–æ–Ω–µ—Ç—ã\n\n"
        "üîî –ê–ª–µ—Ä—Ç—ã\n"
        "/alert –º–æ–Ω–µ—Ç–∞ –≤—ã—à–µ/–Ω–∏–∂–µ —Ü–µ–Ω–∞ [–≤–∞–ª—é—Ç–∞] ‚Äî —Å–æ–∑–¥–∞—Ç—å –∞–ª–µ—Ä—Ç\n"
        "/alert_remove id ‚Äî —É–¥–∞–ª–∏—Ç—å –∞–ª–µ—Ä—Ç\n"
        "üîî –ú–æ–∏ –∞–ª–µ—Ä—Ç—ã ‚Äî –≤–∞—à–∏ –∞–ª–µ—Ä—Ç—ã"
    )
    
    await message.answer(text, reply_markup=main_kb)
